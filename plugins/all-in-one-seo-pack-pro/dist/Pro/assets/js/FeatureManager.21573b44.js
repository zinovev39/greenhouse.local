import{b as N,e as F,o as M,c as U}from"./links.574d4fd4.js";import{a as T}from"./allowed.59f3c72a.js";import{o as x}from"./isArrayLikeObject.59b68b05.js";import{L as I}from"./License.57ff6ade.js";import{c as O}from"./news-sitemap.1ec2e03a.js";import{C as P}from"./index.b1bbc091.js";import{C as E,S as V,a as z}from"./SitemapsPro.67198269.js";import{C as B}from"./Index.815fe32c.js";import{C as D}from"./Index.b732d651.js";import{G,a as R}from"./Row.e7795c3e.js";import{S as q}from"./Caret.89e18339.js";import{o as m,c as f,a as n,x as d,C as c,l as r,k as g,b as _,D as u,t as l,F as H,L as K,q as W,H as v}from"./vue.runtime.esm-bundler.78401fbe.js";import{_ as y}from"./_plugin-vue_export-helper.58be9317.js";import{S as Y,a as j}from"./ImageSeo.b75993c0.js";import{S as X}from"./Redirect.37371f19.js";import"./default-i18n.3881921e.js";import"./deburr.f9ffc34a.js";import"./toString.03aff7e6.js";import"./addons.f4a19c9a.js";import"./upperFirst.1bce92c5.js";import"./_stringToArray.4de3b1f3.js";import"./params.f0608262.js";import"./Url.e3c0d5de.js";import"./Tooltip.72f8a160.js";import"./constants.7045f08f.js";const J={},Q={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"aioseo-code"},Z=n("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z",fill:"currentColor"},null,-1),ee=[Z];function te(t,e){return m(),f("svg",Q,ee)}const se=y(J,[["render",te]]);const oe={setup(){return{addonsStore:N(),licenseStore:F(),pluginsStore:M(),rootStore:U()}},components:{CoreAlert:P,CoreFeatureCard:E,CoreModal:B,Cta:D,GridColumn:G,GridRow:R,SvgClose:q,SvgCode:se,SvgImageSeo:Y,SvgLinkAssistant:V,SvgLocalBusiness:j,SvgRedirect:X,SvgSitemapsPro:z},mixins:[I],data(){return{allowed:T,ctaImg:O,showNetworkModal:!1,maybeActivate:!1,maybeDeactivate:!1,search:null,loading:{activateAll:!1,deactivateAll:!1},strings:{videoNewsSitemaps:this.$t.__("Video and News Sitemaps",this.$td),imageSeoOptimization:this.$t.__("Image SEO Optimization",this.$td),localBusinessSeo:this.$t.__("Local Business SEO",this.$td),advancedWooCommerce:this.$t.__("Advanced WooCommerce",this.$td),customTaxonomies:this.$t.__("SEO for Categories, Tags and Custom Taxonomies",this.$td),andMore:this.$t.__("And many more...",this.$td),activateAllFeatures:this.$t.__("Activate All Features",this.$td),deactivateAllFeatures:this.$t.__("Deactivate All Features",this.$td),searchForFeatures:this.$t.__("Search for Features...",this.$td),ctaHeaderText:this.$t.sprintf(this.$t.__("Upgrade %1$s to Pro and Unlock all Features!",this.$td),"AIOSEO"),ctaButtonText:this.$t.__("Unlock All Features",this.$td),aValidLicenseIsRequired:this.$t.__("A valid license key is required in order to use our addons.",this.$td),enterLicenseKey:this.$t.__("Enter License Key",this.$td),purchaseLicense:this.$t.__("Purchase License",this.$td),areYouSureNetworkChange:this.$t.__("This is a network-wide change.",this.$td),yesProcessNetworkChange:this.$t.__("Yes, process this network change",this.$td),noChangedMind:this.$t.__("No, I changed my mind",this.$td)},descriptions:{aioseoImageSeo:{description:"<p>"+this.$t.__("Globally control the Title attribute and Alt text for images in your content. These attributes are essential for both accessibility and SEO.",this.$td)+"</p>",version:0},aioseoVideoSitemap:{description:"<p>"+this.$t.__("The Video Sitemap works in much the same way as the XML Sitemap module, it generates an XML Sitemap specifically for video content on your site. Search engines use this information to display rich snippet information in search results.",this.$td)+"</p>",version:0},aioseoNewsSitemap:{description:"<p>"+this.$t.__("Our Google News Sitemap lets you control which content you submit to Google News and only contains articles that were published in the last 48 hours. In order to submit a News Sitemap to Google, you must have added your site to Googleâ€™s Publisher Center and had it approved.",this.$td)+"</p>",version:0},aioseoLocalBusiness:{description:"<p>"+this.$t.__("Local Business schema markup enables you to tell Google about your business, including your business name, address and phone number, opening hours and price range. This information may be displayed as a Knowledge Graph card or business carousel.",this.$td)+"</p>",version:0}}}},computed:{upgradeToday(){return this.$t.sprintf(this.$t.__("%1$s %2$s comes with many additional features to help take your site's SEO to the next level!",this.$td),"AIOSEO","Pro")},getAddons(){return this.addonsStore.addons.filter(t=>!this.search||t.name.toLowerCase().includes(this.search.toLowerCase()))},networkChangeMessage(){return this.activated?this.$t.__("Are you sure you want to deactivate these addons across the network?",this.$td):this.$t.__("Are you sure you want to activate these addons across the network?",this.$td)}},methods:{getAssetUrl:x,closeNetworkModal(t=!1){if(this.showNetworkModal=!1,t){const e=this.maybeActivate?"actuallyActivateAllFeatures":"actuallyDeactivateAllFeatures";this.maybeActivate=!1,this.maybeDeactivate=!1,this[e]()}},getIconComponent(t){return t.startsWith("svg-")?t:"img"},getIconSrc(t,e){return typeof t=="string"&&t.startsWith("svg-")?null:typeof t=="string"?`data:image/svg+xml;base64,${t}`:e},getAddonDescription(t){const e=t.sku.replace(/-./g,h=>h.toUpperCase()[1]);return this.descriptions[e]&&this.descriptions[e].description&&t.descriptionVersion<=this.descriptions[e].version?this.descriptions[e].description:t.description},activateAllFeatures(){if(!this.$isPro||!this.licenseStore.license.isActive)return window.open(this.$links.utmUrl(this.rootStore.aioseo.data.isNetworkAdmin?"network-activate-all-features":"activate-all-features"));if(this.rootStore.aioseo.data.isNetworkAdmin){this.showNetworkModal=!0,this.maybeActivate=!0;return}this.actuallyActivateAllFeatures()},actuallyActivateAllFeatures(){this.loading.activateAll=!0;const t=this.addonsStore.addons.filter(e=>!e.requiresUpgrade).map(e=>({plugin:e.basename}));this.pluginsStore.installPlugins(t).then(e=>{const h=Object.keys(e.body.completed).map(s=>e.body.completed[s]);this.addonsStore.addons.map(s=>(h.includes(s.basename)&&(s.isActive=!0),s)),this.loading.activateAll=!1})},deactivateAllFeatures(){if(this.rootStore.aioseo.data.isNetworkAdmin){this.showNetworkModal=!0,this.maybeDeactivate=!0;return}this.actuallyDeactivateAllFeatures()},actuallyDeactivateAllFeatures(){this.loading.deactivateAll=!0;const t=this.addonsStore.addons.filter(e=>!e.requiresUpgrade).filter(e=>e.installed).map(e=>({plugin:e.basename}));this.pluginsStore.deactivatePlugins(t).then(e=>{const h=Object.keys(e.body.completed).map(s=>e.body.completed[s]);this.addonsStore.addons.map(s=>(h.includes(s.basename)&&(s.isActive=!1),s)),this.loading.deactivateAll=!1})}}},ae={class:"aioseo-feature-manager"},ie={class:"aioseo-feature-manager-header"},re={key:0,class:"buttons"},ne={class:"button-content"},le={class:"search"},ce={class:"aioseo-feature-manager-addons"},de={class:"buttons"},ue=["innerHTML"],me={class:"large"},he=["src"],pe={class:"aioseo-modal-body"},ge={class:"reset-description"};function _e(t,e,h,s,o,i){const p=d("base-button"),S=d("base-input"),k=d("core-alert"),w=d("core-feature-card"),A=d("grid-column"),b=d("grid-row"),C=d("cta"),$=d("svg-close"),L=d("core-modal");return m(),f("div",ae,[n("div",ie,[i.getAddons.filter(a=>a.canActivate===!0).length>0?(m(),f("div",re,[n("div",ne,[c(p,{size:"medium",type:"blue",loading:o.loading.activateAll,onClick:i.activateAllFeatures},{default:r(()=>[u(l(o.strings.activateAllFeatures),1)]),_:1},8,["loading","onClick"]),s.licenseStore.isUnlicensed?_("",!0):(m(),g(p,{key:0,size:"medium",type:"gray",loading:o.loading.deactivateAll,onClick:i.deactivateAllFeatures},{default:r(()=>[u(l(o.strings.deactivateAllFeatures),1)]),_:1},8,["loading","onClick"]))])])):_("",!0),n("div",le,[c(S,{modelValue:o.search,"onUpdate:modelValue":e[0]||(e[0]=a=>o.search=a),size:"medium",placeholder:o.strings.searchForFeatures,"prepend-icon":"search"},null,8,["modelValue","placeholder"])])]),n("div",ce,[t.$isPro&&s.licenseStore.isUnlicensed?(m(),g(k,{key:0,type:"red"},{default:r(()=>[n("strong",null,l(t.yourLicenseIsText),1),u(" "+l(o.strings.aValidLicenseIsRequired)+" ",1),n("div",de,[c(p,{type:"blue",size:"small",tag:"a",href:s.rootStore.aioseo.data.isNetworkAdmin?s.rootStore.aioseo.urls.aio.networkSettings:s.rootStore.aioseo.urls.aio.settings},{default:r(()=>[u(l(o.strings.enterLicenseKey),1)]),_:1},8,["href"]),c(p,{type:"green",size:"small",tag:"a",target:"_blank",href:t.$links.getUpsellUrl("feature-manager-upgrade","no-license-key","pricing")},{default:r(()=>[u(l(o.strings.purchaseLicense),1)]),_:1},8,["href"])])]),_:1})):_("",!0),c(b,null,{default:r(()=>[(m(!0),f(H,null,K(i.getAddons,a=>(m(),g(A,{key:a.sku,sm:"6",lg:"4"},{default:r(()=>[c(w,{ref_for:!0,ref:"addons","can-activate":a.canActivate,"can-manage":o.allowed(a.capability),feature:a},{title:r(()=>[(m(),g(W(i.getIconComponent(a.icon)),{src:i.getIconSrc(a.icon,a.image)},null,8,["src"])),u(" "+l(a.name),1)]),description:r(()=>[n("div",{innerHTML:i.getAddonDescription(a)},null,8,ue)]),_:2},1032,["can-activate","can-manage","feature"])]),_:2},1024))),128))]),_:1})]),s.licenseStore.isUnlicensed?(m(),g(C,{key:0,class:"feature-manager-upsell",type:2,"button-text":o.strings.ctaButtonText,floating:!1,"cta-link":t.$links.utmUrl("feature-manager","main-cta"),"learn-more-link":t.$links.getUpsellUrl("feature-manager","main-cta",t.$isPro?"pricing":"liteUpgrade"),"feature-list":t.$constants.UPSELL_FEATURE_LIST},{"header-text":r(()=>[n("span",me,l(o.strings.ctaHeaderText),1)]),description:r(()=>[u(l(i.upgradeToday),1)]),"featured-image":r(()=>[n("img",{alt:"Purchase AIOSEO Today!",src:i.getAssetUrl(o.ctaImg)},null,8,he)]),_:1},8,["button-text","cta-link","learn-more-link","feature-list"])):_("",!0),c(L,{show:o.showNetworkModal,"no-header":"",onClose:e[5]||(e[5]=a=>i.closeNetworkModal(!1)),classes:["aioseo-feature-manager-modal"]},{body:r(()=>[n("div",pe,[n("button",{class:"close",onClick:e[2]||(e[2]=v(a=>i.closeNetworkModal(!1),["stop"]))},[c($,{onClick:e[1]||(e[1]=v(a=>i.closeNetworkModal(!1),["stop"]))})]),n("h3",null,l(o.strings.areYouSureNetworkChange),1),n("div",ge,l(i.networkChangeMessage),1),c(p,{type:"blue",size:"medium",onClick:e[3]||(e[3]=a=>i.closeNetworkModal(!0))},{default:r(()=>[u(l(o.strings.yesProcessNetworkChange),1)]),_:1}),c(p,{type:"gray",size:"medium",onClick:e[4]||(e[4]=a=>i.closeNetworkModal(!1))},{default:r(()=>[u(l(o.strings.noChangedMind),1)]),_:1})])]),_:1},8,["show"])])}const Ge=y(oe,[["render",_e]]);export{Ge as default};
