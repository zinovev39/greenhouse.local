import{g as $,m as A}from"./links.bbde6535.js";import"./default-i18n.3881921e.js";import{x as i,c as h,z as s,l as o,o as p,a as c,A as _,t as a,H as N,I as V,k as B,b as g,E}from"./vue.runtime.esm-bundler.308f2021.js";import{_ as O}from"./_plugin-vue_export-helper.5bcc150c.js";import{u as T,W as L}from"./Wizard.32bbe151.js";import{B as U}from"./Checkbox.30500119.js";import{C as F}from"./ProBadge.bf5a3f4e.js";import{G as q,a as I}from"./Row.16199427.js";import{W as G,a as D,b as H}from"./Header.cd5da31b.js";import{W as R}from"./CloseAndExit.dbafe581.js";import{_ as j}from"./Steps.2c0a49e3.js";import"./isArrayLikeObject.965a2149.js";import"./addons.c8e26c5a.js";import"./upperFirst.56425447.js";import"./_stringToArray.4de3b1f3.js";import"./toString.1bb388e8.js";import"./Checkmark.85e83e8c.js";import"./Logo.bdfb3269.js";import"./Caret.baea7fe0.js";import"./Index.15a8ee01.js";const J={setup(){const{strings:e}=T();return{setupWizardStore:$(),composableStrings:e}},components:{BaseCheckbox:U,CoreProBadge:F,GridColumn:q,GridRow:I,WizardBody:G,WizardCloseAndExit:R,WizardContainer:D,WizardHeader:H,WizardSteps:j},mixins:[L],data(){return{loading:!1,stage:"features",strings:A(this.composableStrings,{whichFeatures:this.$t.__("Which SEO features do you want to enable?",this.$td),description:this.$t.__("We have already selected our recommended features based on your site category, but you can use the following features to fine-tune your site.",this.$td)})}},computed:{showPluginsAll(){return(this.setupWizardStore.features.includes("analytics")||this.setupWizardStore.features.includes("conversion-tools")||this.setupWizardStore.features.includes("broken-link-checker"))&&(this.setupWizardStore.features.includes("image-seo")||this.setupWizardStore.features.includes("news-sitemap")||this.setupWizardStore.features.includes("video-sitemap")||this.setupWizardStore.features.includes("local-seo")||this.setupWizardStore.features.includes("redirects")||this.setupWizardStore.features.includes("index-now")||this.setupWizardStore.features.includes("link-assistant")||this.setupWizardStore.features.includes("rest-api"))},showPluginsAddons(){return(!this.setupWizardStore.features.includes("analytics")||!this.setupWizardStore.features.includes("conversion-tools")||!this.setupWizardStore.features.includes("broken-link-checker"))&&(this.setupWizardStore.features.includes("image-seo")||this.setupWizardStore.features.includes("news-sitemap")||this.setupWizardStore.features.includes("video-sitemap")||this.setupWizardStore.features.includes("local-seo")||this.setupWizardStore.features.includes("redirects")||this.setupWizardStore.features.includes("index-now")||this.setupWizardStore.features.includes("link-assistant")||this.setupWizardStore.features.includes("rest-api"))},showPluginsOnly(){return(this.setupWizardStore.features.includes("analytics")||this.setupWizardStore.features.includes("conversion-tools")||this.setupWizardStore.features.includes("broken-link-checker"))&&!this.setupWizardStore.features.includes("image-seo")&&!this.setupWizardStore.features.includes("news-sitemap")&&!this.setupWizardStore.features.includes("video-sitemap")&&!this.setupWizardStore.features.includes("local-seo")&&!this.setupWizardStore.features.includes("redirects")&&!this.setupWizardStore.features.includes("index-now")&&!this.setupWizardStore.features.includes("link-assistant")&&!this.setupWizardStore.features.includes("rest-api")},getPluginsText(){return this.showPluginsOnly?this.$t.sprintf(this.$t.__("The following plugins will be installed: %1$s",this.$td),this.getPluginNames):this.showPluginsAddons?this.$t.sprintf(this.$t.__("The following %1$s addons will be installed: %2$s",this.$td),"AIOSEO",this.getPluginNames):this.showPluginsAll?this.$t.sprintf(this.$t.__("The following plugins and %1$s addons will be installed: %2$s",this.$td),"AIOSEO",this.getPluginNames):null},getPluginNames(){const e=[];this.features.forEach(n=>{this.setupWizardStore.features.includes(n.value)&&n.pluginName&&e.push(n.pluginName)});let r="";return 1<e.length?r=this.$t.sprintf(this.$t.__(" and %1$s",this.$td),e[e.length-1]):r=e[e.length-1],delete e[e.length-1],e.join(", ").replace(/(^[,\s]+)|([,\s]+$)/g,"")+r}},methods:{preventUncheck(e,r){r.required&&(e.preventDefault(),e.stopPropagation())},getValue(e){return this.setupWizardStore.features.includes(e.value)},updateValue(e,r){const u=[...this.setupWizardStore.features];if(e){u.push(r.value),this.setupWizardStore.features=u;return}const n=u.findIndex(l=>l===r.value);n!==-1&&u.splice(n,1),this.setupWizardStore.features=u},saveAndContinue(){this.loading=!0,this.setupWizardStore.saveWizard("features").then(()=>{this.$router.push(this.setupWizardStore.getNextLink)})}}},K={class:"aioseo-wizard-features"},M={class:"header"},Q={class:"description"},X={class:"settings-name"},Y={class:"name small-margin"},Z={class:"aioseo-description-text"},ee={key:0,class:"aioseo-installs-text"},te={class:"go-back"},se=c("div",{class:"spacer"},null,-1),ie={key:0,class:"plugins"};function re(e,r,u,n,l,d){const W=i("wizard-header"),S=i("wizard-steps"),k=i("core-pro-badge"),f=i("grid-column"),w=i("base-checkbox"),v=i("grid-row"),z=i("router-link"),y=i("base-button"),b=i("wizard-body"),x=i("wizard-close-and-exit"),P=i("wizard-container");return p(),h("div",K,[s(W),s(P,null,{default:o(()=>[s(b,null,{footer:o(()=>[c("div",te,[s(z,{to:n.setupWizardStore.getPrevLink,class:"no-underline"},{default:o(()=>[_("←")]),_:1},8,["to"]),_("   "),s(z,{to:n.setupWizardStore.getPrevLink},{default:o(()=>[_(a(l.strings.goBack),1)]),_:1},8,["to"])]),se,s(y,{type:"blue",loading:l.loading,onClick:d.saveAndContinue},{default:o(()=>[_(a(l.strings.saveAndContinue)+" →",1)]),_:1},8,["loading","onClick"])]),default:o(()=>[s(S),c("div",M,a(l.strings.whichFeatures),1),c("div",Q,a(l.strings.description),1),(p(!0),h(N,null,V(e.features,(t,C)=>(p(),h("div",{key:C,class:"feature-grid small-padding medium-margin"},[s(v,null,{default:o(()=>[s(f,{xs:"11"},{default:o(()=>[c("div",X,[c("div",Y,[_(a(t.name)+" ",1),e.needsUpsell(t)?(p(),B(k,{key:0})):g("",!0)]),c("div",Z,a(t.description),1),t.installs&&d.getValue(t)?(p(),h("div",ee,a(t.installs),1)):g("",!0)])]),_:2},1024),s(f,{xs:"1"},{default:o(()=>[s(w,{round:"",class:E({"no-clicks":t.required}),type:t.required?"green":"blue",modelValue:t.required?!0:d.getValue(t),"onUpdate:modelValue":m=>d.updateValue(m,t),onClick:m=>d.preventUncheck(m,t)},null,8,["class","type","modelValue","onUpdate:modelValue","onClick"])]),_:2},1024)]),_:2},1024)]))),128))]),_:1}),d.getPluginsText?(p(),h("div",ie,a(d.getPluginsText),1)):g("",!0),s(x)]),_:1})])}const be=O(J,[["render",re]]);export{be as default};
